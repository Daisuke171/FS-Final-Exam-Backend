# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type Level {
  id: ID!
  color: Float!
  number: Float!
  name: String!
  experienceRequired: Float!
  users: [User!]!
  createdAt: DateTime!
  updatedAt: DateTime!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type User {
  id: ID!
  name: String!
  lastname: String!
  username: String!
  nickname: String!
  email: String!
  coins: Float!
  experience: Float!
  level: Level!
  birthday: DateTime!
  createdAt: DateTime!
  updatedAt: DateTime!
}

type GameHistory {
  id: ID!
  gameId: ID!
  game: Game
  userId: ID!
  user: User
  duration: Int!
  state: String!
  score: Int!
  totalDamage: Int!
  createdAt: DateTime!
  updatedAt: DateTime!
}

type GameFavorite {
  id: ID!
  gameId: ID!
  game: Game
  userId: ID!
  user: User
  createdAt: DateTime!
  updatedAt: DateTime!
}

type Game {
  id: ID!
  name: String!
  description: String
  rules: String
  gameLogo: String
  score: Float!
  duration: String!
  category: String!
  minPlayers: Int!
  maxPlayers: Int!
  history: [GameHistory]!
  favorite: [GameFavorite]!
  createdAt: DateTime!
  updatedAt: DateTime!
}

type LeaderboardEntry {
  rank: Int!
  userId: ID!
  nickname: String!
  name: String
  totalScore: Int!
  bestScore: Int!
  totalGames: Int!
  wins: Int!
}

type Leaderboard {
  gameId: ID!
  gameName: String!
  entries: [LeaderboardEntry!]!
  generatedAt: DateTime!
}

type Query {
  games: [Game!]!
  game(id: Int!): Game!
  userGames(userId: Int!, gameId: Int!): [GameHistory!]!
  leaderboard(gameId: Int!): Leaderboard!
  globalLeaderboard: Leaderboard!
  userFavorites(userId: Int!): [GameFavorite!]!
  users: [User!]!
  user(id: Int!): User!
}

type Mutation {
  toggleFavorite(input: ToggleFavoriteInput!): Boolean!
  saveGameResult(input: SaveGameResultInput!): GameHistory!
  createGame(input: CreateGameInput!): Game!
  deleteGame(id: Int!): Game!
  updateGame(id: Int!, input: UpdateGameInput!): Game!
  createUser(input: CreateUserInput!): User!
  updateUser(id: String!, input: UpdateUserInput!): User!
  removeUser(id: Int!): User!
}

input ToggleFavoriteInput {
  userId: ID!
  gameId: ID!
}

input SaveGameResultInput {
  userId: ID!
  gameId: ID!
  duration: Int!
  state: String!
  score: Int!
  totalDamage: Int!
}

input CreateGameInput {
  name: String!
  description: String!
  rules: String!
  gameLogo: String!
  category: String!
  score: Int!
  duration: String!
  maxPlayers: Int!
  minPlayers: Int!
}

input UpdateGameInput {
  name: String
  description: String
  rules: String
  gameLogo: String
  category: String
  score: Int
  duration: String
  maxPlayers: Int
  minPlayers: Int
}

input CreateUserInput {
  name: String!
  lastname: String!
  username: String!
  nickname: String
  email: String!
  password: String!
  birthday: DateTime!
  levelId: Int! = 1
}

input UpdateUserInput {
  name: String
  lastname: String
  username: String
  nickname: String
  email: String
  password: String
  birthday: DateTime
  levelId: Int = 1
}